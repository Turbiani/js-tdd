<!DOCTYPE html>
<html>
<head>
  <title>03 - This no Arrow Function</title>
</head>
<body>

<button id="btn">Make my sandwich!</button>
</body>

<script>
  const sandwich = {
    bread: 'white',
    cheese: 'cheddar',

    prepare: function() {
      return `I want a sandwich with ${this.bread} bread and ${this.cheese} cheese!`;
    },

    make: function() {
      window.setTimeout(() => {
        console.log( this.prepare() );
      }, 500);
    },
    //Neste caso vale a pena usar ArrowFunction, pois quero ter acesso ao contexto de sandwich e acessar o método prepare
    //Se eu trocar a ArrowFunction por uma função anônima, terei o this com o contexto menor, no caso o contexto de window
    //veja o método make2, vamos ter o seguinte erro: this.prepare is not a function
    make2: function() {
      window.setTimeout(function () {
        console.log( this.prepare());
      }, 500);
    },
  };

  const btn = document.getElementById('btn');

  btn.addEventListener('click', function() { sandwich.make2() });

</script>
</html>
